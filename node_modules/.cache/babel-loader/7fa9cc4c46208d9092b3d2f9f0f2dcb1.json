{"ast":null,"code":"const API_KEY = 'c065f555d4e19864fdc27e420f758663';\nconst URL_API = 'https://api.openweathermap.org/data/2.5/';\nexport function getWeather(type, searchParams) {\n  const url = new URL(`${URL_API}/${type}`);\n  const params = new URLSearchParams({\n    ...searchParams,\n    appid: API_KEY\n  });\n  url.search = params.toString();\n  return fetch(url).then(res => res.json());\n}\nfunction formatCurrentWeather(data) {\n  console.log('data ', data);\n  const {\n    coord: {\n      lat,\n      lon\n    },\n    main: {\n      temp,\n      feels_like,\n      temp_min,\n      temp_max,\n      humidity\n    },\n    name,\n    dt,\n    sys: {\n      country,\n      sunrise,\n      sunset\n    },\n    weather,\n    wind: {\n      speed\n    },\n    timezone\n  } = data;\n  console.log('weather[0]', weather[0]);\n  const {\n    main: details,\n    icon,\n    description\n  } = weather[0];\n  return {\n    lat,\n    lon,\n    temp,\n    feels_like,\n    temp_min,\n    temp_max,\n    humidity,\n    name,\n    dt,\n    country,\n    sunrise,\n    sunset,\n    details,\n    icon,\n    speed,\n    description,\n    time: timeToLocal(dt, timezone)\n  };\n}\nexport async function getFormattedDataWeather(searchParams) {\n  const formattedCurrentWeather = await getWeather(\"weather\", searchParams).then(formatCurrentWeather);\n  console.log('formatted', formattedCurrentWeather);\n  return {\n    formattedCurrentWeather\n  };\n}\nexport function timeToLocal(sec, timezone) {\n  return new Date(sec + timezone).toUTCString();\n}","map":{"version":3,"names":["API_KEY","URL_API","getWeather","type","searchParams","url","URL","params","URLSearchParams","appid","search","toString","fetch","then","res","json","formatCurrentWeather","data","console","log","coord","lat","lon","main","temp","feels_like","temp_min","temp_max","humidity","name","dt","sys","country","sunrise","sunset","weather","wind","speed","timezone","details","icon","description","time","timeToLocal","getFormattedDataWeather","formattedCurrentWeather","sec","Date","toUTCString"],"sources":["/Users/darakorbut/Downloads/projects/weatherapp/src/weather.js"],"sourcesContent":["const API_KEY = 'c065f555d4e19864fdc27e420f758663';\nconst URL_API = 'https://api.openweathermap.org/data/2.5/';\n\nexport function getWeather(type, searchParams) {\n    const url = new URL(`${URL_API}/${type}`);\n    const params = new URLSearchParams({ ...searchParams, appid: API_KEY });\n    url.search = params.toString();\n\n    return fetch(url).then((res) => res.json());\n}\n\nfunction formatCurrentWeather(data) {\n\n    console.log('data ', data)\n    const {\n        coord: { lat, lon },\n        main: { temp, feels_like, temp_min, temp_max, humidity },\n        name,\n        dt,\n        sys: { country, sunrise, sunset },\n        weather,\n        wind: { speed },\n        timezone\n    } = data;\n\n    console.log('weather[0]', weather[0])\n    const { main: details, icon, description } = weather[0];\n\n    return {\n        lat,\n        lon,\n        temp,\n        feels_like,\n        temp_min,\n        temp_max,\n        humidity,\n        name,\n        dt,\n        country,\n        sunrise,\n        sunset,\n        details,\n        icon,\n        speed,\n        description,\n        time: timeToLocal(dt, timezone)\n    };\n}\nexport async function getFormattedDataWeather(searchParams) {\n    const formattedCurrentWeather = await getWeather(\n        \"weather\",\n        searchParams\n    ).then(formatCurrentWeather);\n\n    console.log('formatted', formattedCurrentWeather)\n\n    return ({\n        formattedCurrentWeather\n    })\n}\n\nexport function timeToLocal(sec, timezone) {\n    return (new Date(sec+(timezone)).toUTCString())\n}"],"mappings":"AAAA,MAAMA,OAAO,GAAG,kCAAkC;AAClD,MAAMC,OAAO,GAAG,0CAA0C;AAE1D,OAAO,SAASC,UAAU,CAACC,IAAI,EAAEC,YAAY,EAAE;EAC3C,MAAMC,GAAG,GAAG,IAAIC,GAAG,CAAE,GAAEL,OAAQ,IAAGE,IAAK,EAAC,CAAC;EACzC,MAAMI,MAAM,GAAG,IAAIC,eAAe,CAAC;IAAE,GAAGJ,YAAY;IAAEK,KAAK,EAAET;EAAQ,CAAC,CAAC;EACvEK,GAAG,CAACK,MAAM,GAAGH,MAAM,CAACI,QAAQ,EAAE;EAE9B,OAAOC,KAAK,CAACP,GAAG,CAAC,CAACQ,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACC,IAAI,EAAE,CAAC;AAC/C;AAEA,SAASC,oBAAoB,CAACC,IAAI,EAAE;EAEhCC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEF,IAAI,CAAC;EAC1B,MAAM;IACFG,KAAK,EAAE;MAAEC,GAAG;MAAEC;IAAI,CAAC;IACnBC,IAAI,EAAE;MAAEC,IAAI;MAAEC,UAAU;MAAEC,QAAQ;MAAEC,QAAQ;MAAEC;IAAS,CAAC;IACxDC,IAAI;IACJC,EAAE;IACFC,GAAG,EAAE;MAAEC,OAAO;MAAEC,OAAO;MAAEC;IAAO,CAAC;IACjCC,OAAO;IACPC,IAAI,EAAE;MAAEC;IAAM,CAAC;IACfC;EACJ,CAAC,GAAGrB,IAAI;EAERC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEgB,OAAO,CAAC,CAAC,CAAC,CAAC;EACrC,MAAM;IAAEZ,IAAI,EAAEgB,OAAO;IAAEC,IAAI;IAAEC;EAAY,CAAC,GAAGN,OAAO,CAAC,CAAC,CAAC;EAEvD,OAAO;IACHd,GAAG;IACHC,GAAG;IACHE,IAAI;IACJC,UAAU;IACVC,QAAQ;IACRC,QAAQ;IACRC,QAAQ;IACRC,IAAI;IACJC,EAAE;IACFE,OAAO;IACPC,OAAO;IACPC,MAAM;IACNK,OAAO;IACPC,IAAI;IACJH,KAAK;IACLI,WAAW;IACXC,IAAI,EAAEC,WAAW,CAACb,EAAE,EAAEQ,QAAQ;EAClC,CAAC;AACL;AACA,OAAO,eAAeM,uBAAuB,CAACxC,YAAY,EAAE;EACxD,MAAMyC,uBAAuB,GAAG,MAAM3C,UAAU,CAC5C,SAAS,EACTE,YAAY,CACf,CAACS,IAAI,CAACG,oBAAoB,CAAC;EAE5BE,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE0B,uBAAuB,CAAC;EAEjD,OAAQ;IACJA;EACJ,CAAC;AACL;AAEA,OAAO,SAASF,WAAW,CAACG,GAAG,EAAER,QAAQ,EAAE;EACvC,OAAQ,IAAIS,IAAI,CAACD,GAAG,GAAER,QAAS,CAAC,CAACU,WAAW,EAAE;AAClD"},"metadata":{},"sourceType":"module"}