{"ast":null,"code":"var _jsxFileName = \"/Users/darakorbut/Downloads/projects/weatherapp/src/context/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { getDataCurrentWeather, getFormattedDataWeather } from \"../weather\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  dailyWeather: null,\n  hourlyWeather: null,\n  weather: null\n};\nexport const Context = /*#__PURE__*/React.createContext(initialState);\nexport const ContextProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [weather, setWeather] = useState(null);\n  const [dailyWeather, setDailyWeather] = useState(null);\n  const [hourlyWeather, setHourlyWeather] = useState(null);\n  async function fetchWeather(_ref2) {\n    let {\n      lat,\n      lon\n    } = _ref2;\n    let res = await getFormattedDataWeather({\n      lat,\n      lon,\n      units: \"metric\",\n      exclude: 'minutely'\n    });\n    setWeather(res.current);\n    setDailyWeather(res.daily.slice(0, 3));\n    console.log('dasha', res);\n    setHourlyWeather(res.hourly);\n    const {\n      city,\n      lat: latData,\n      lon: lonData\n    } = res.city;\n    localStorage.setItem('town', JSON.stringify({\n      town: city,\n      lat: latData,\n      lon: lonData\n    }));\n  }\n  async function fetchCurrentWeather(_ref3) {\n    let {\n      q\n    } = _ref3;\n    let res = await getDataCurrentWeather({\n      q,\n      units: \"metric\"\n    });\n    setWeather(res.current);\n    setDailyWeather(res.daily.slice(0, 3));\n    console.log('dasha', res);\n    setHourlyWeather(res.hourly);\n    const {\n      city,\n      lat,\n      lon\n    } = res.city;\n    localStorage.setItem('town', JSON.stringify({\n      town: city,\n      lat,\n      lon\n    }));\n  }\n  return /*#__PURE__*/_jsxDEV(Context.Provider, {\n    value: {\n      weather,\n      setWeather,\n      dailyWeather,\n      setDailyWeather,\n      hourlyWeather,\n      setHourlyWeather,\n      fetchWeather,\n      fetchCurrentWeather\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(ContextProvider, \"BDnMGFpjBXgOh3yOo49YzwMqQnY=\");\n_c = ContextProvider;\nvar _c;\n$RefreshReg$(_c, \"ContextProvider\");","map":{"version":3,"names":["React","useState","getDataCurrentWeather","getFormattedDataWeather","initialState","dailyWeather","hourlyWeather","weather","Context","createContext","ContextProvider","children","setWeather","setDailyWeather","setHourlyWeather","fetchWeather","lat","lon","res","units","exclude","current","daily","slice","console","log","hourly","city","latData","lonData","localStorage","setItem","JSON","stringify","town","fetchCurrentWeather","q"],"sources":["/Users/darakorbut/Downloads/projects/weatherapp/src/context/index.jsx"],"sourcesContent":["import React, {useState} from 'react';\nimport {getDataCurrentWeather, getFormattedDataWeather} from \"../weather\";\n\nconst initialState = {\n    dailyWeather: null,\n    hourlyWeather: null,\n    weather: null\n}\n\nexport const Context = React.createContext(initialState);\n\nexport const ContextProvider = ({children}) => {\n    const [weather, setWeather] = useState(null);\n    const [dailyWeather, setDailyWeather] = useState(null);\n    const [hourlyWeather, setHourlyWeather] = useState(null);\n\n    async function fetchWeather({lat, lon}) {\n        let res = await getFormattedDataWeather({lat, lon, units: \"metric\", exclude: 'minutely'});\n\n\n        setWeather(res.current);\n        setDailyWeather(res.daily.slice(0,3));\n        console.log('dasha' ,res)\n        setHourlyWeather(res.hourly);\n\n        const {city, lat: latData, lon: lonData} = res.city;\n        localStorage.setItem('town', JSON.stringify({town: city, lat: latData, lon: lonData}));\n\n    }\n\n    async function fetchCurrentWeather({q}) {\n        let res = await getDataCurrentWeather({q, units: \"metric\"});\n        setWeather(res.current);\n        setDailyWeather(res.daily.slice(0,3));\n        console.log('dasha' ,res)\n        setHourlyWeather(res.hourly);\n        const {city, lat, lon} = res.city;\n        localStorage.setItem('town', JSON.stringify({town: city, lat, lon}));\n    }\n\n    return (\n        <Context.Provider value={{\n            weather,\n            setWeather,\n            dailyWeather,\n            setDailyWeather,\n            hourlyWeather,\n            setHourlyWeather,\n            fetchWeather,\n            fetchCurrentWeather\n        }}>\n            {children}\n        </Context.Provider>\n    )\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAGC,QAAQ,QAAO,OAAO;AACrC,SAAQC,qBAAqB,EAAEC,uBAAuB,QAAO,YAAY;AAAC;AAE1E,MAAMC,YAAY,GAAG;EACjBC,YAAY,EAAE,IAAI;EAClBC,aAAa,EAAE,IAAI;EACnBC,OAAO,EAAE;AACb,CAAC;AAED,OAAO,MAAMC,OAAO,gBAAGR,KAAK,CAACS,aAAa,CAACL,YAAY,CAAC;AAExD,OAAO,MAAMM,eAAe,GAAG,QAAgB;EAAA;EAAA,IAAf;IAACC;EAAQ,CAAC;EACtC,MAAM,CAACJ,OAAO,EAAEK,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACI,YAAY,EAAEQ,eAAe,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACK,aAAa,EAAEQ,gBAAgB,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAExD,eAAec,YAAY,QAAa;IAAA,IAAZ;MAACC,GAAG;MAAEC;IAAG,CAAC;IAClC,IAAIC,GAAG,GAAG,MAAMf,uBAAuB,CAAC;MAACa,GAAG;MAAEC,GAAG;MAAEE,KAAK,EAAE,QAAQ;MAAEC,OAAO,EAAE;IAAU,CAAC,CAAC;IAGzFR,UAAU,CAACM,GAAG,CAACG,OAAO,CAAC;IACvBR,eAAe,CAACK,GAAG,CAACI,KAAK,CAACC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;IACrCC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEP,GAAG,CAAC;IACzBJ,gBAAgB,CAACI,GAAG,CAACQ,MAAM,CAAC;IAE5B,MAAM;MAACC,IAAI;MAAEX,GAAG,EAAEY,OAAO;MAAEX,GAAG,EAAEY;IAAO,CAAC,GAAGX,GAAG,CAACS,IAAI;IACnDG,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAAC;MAACC,IAAI,EAAEP,IAAI;MAAEX,GAAG,EAAEY,OAAO;MAAEX,GAAG,EAAEY;IAAO,CAAC,CAAC,CAAC;EAE1F;EAEA,eAAeM,mBAAmB,QAAM;IAAA,IAAL;MAACC;IAAC,CAAC;IAClC,IAAIlB,GAAG,GAAG,MAAMhB,qBAAqB,CAAC;MAACkC,CAAC;MAAEjB,KAAK,EAAE;IAAQ,CAAC,CAAC;IAC3DP,UAAU,CAACM,GAAG,CAACG,OAAO,CAAC;IACvBR,eAAe,CAACK,GAAG,CAACI,KAAK,CAACC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC;IACrCC,OAAO,CAACC,GAAG,CAAC,OAAO,EAAEP,GAAG,CAAC;IACzBJ,gBAAgB,CAACI,GAAG,CAACQ,MAAM,CAAC;IAC5B,MAAM;MAACC,IAAI;MAAEX,GAAG;MAAEC;IAAG,CAAC,GAAGC,GAAG,CAACS,IAAI;IACjCG,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAAC;MAACC,IAAI,EAAEP,IAAI;MAAEX,GAAG;MAAEC;IAAG,CAAC,CAAC,CAAC;EACxE;EAEA,oBACI,QAAC,OAAO,CAAC,QAAQ;IAAC,KAAK,EAAE;MACrBV,OAAO;MACPK,UAAU;MACVP,YAAY;MACZQ,eAAe;MACfP,aAAa;MACbQ,gBAAgB;MAChBC,YAAY;MACZoB;IACJ,CAAE;IAAA,UACGxB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACM;AAE3B,CAAC;AAAA,GA3CYD,eAAe;AAAA,KAAfA,eAAe;AAAA;AAAA"},"metadata":{},"sourceType":"module"}